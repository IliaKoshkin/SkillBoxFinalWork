## **Руководство пользователя** ##

VPN (англ. virtual private network — «виртуальная частная сеть») — технология, позволяющая создать безопасное подключение пользователя к сети, организованной между несколькими компьютерами.

Данная технология удобна для:
- удаленнной работы;
- объединения сетей филиалов компаний;
- объединения и изоляции различных отделов компании;
- защиты передаваемой информации в недоверенной сети;
- обеспечения анонимности.

Инфраструктура, описанная в данной документации, использует для реализации VPN-туннелей open-source технологию OpenVPN.

Чтобы начать пользоваться инфраструктурой, необходимо установить на домашнем хосте клиент OpenVPN
```
sudo apt-get install openvpn
```

Далее нужно запросить у администратора инфраструктуры конфигурационный файл. Администратор согласно инструкции подготавливает конфигурационный файл client_name.ovpn и переносит его на хост в директорию /tmp. Чтобы администратор смог передать файл, необходимо настроить ssh-соединение с хостом OpenVPN 158.160.104.149. Для этого требуется сгенерировать пару ключей находясь в директории ~/.ssh
```
ssh-keygen ed25519
```
И передать содержимое публичного ключа key_name.pub администратору OpenVPN чтобы он добавил его в список авторизованных. В свою очереди нужно добавить открытый ключ OpenVPN сервера в список авторизованных ключей на своем хосте:
```
cat "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOuuG40PukSH9vEQ+Fb0asVrAurLGaW6/TszCpIHFR7u yc-user@fhmq2c3q1lo9hm73k1c2" >> ~/.ssh/authorized_keys
```

После того как администратор передать конфигурационный файл, его необходимо переместить в директорию OpenVPN клиента:
```
mv /tmp/client.ovpn /etc/openvpn/client/client_name.conf
```

И перезапустить клиент OpenVPN:
```
sudo systemctl restart openvpn-client@client_name
```
Проверить статус клиента:
```
sudo systemctl status openvpn-client@client_name
```

Он должен выглядеть примерно так если все хорошо:

![Успешный статус клиента](https://github.com/IliaKoshkin/SkillBoxFinalWork/blob/%D0%A1%D0%BA%D1%80%D0%B8%D0%BD%D1%88%D0%BE%D1%82%D1%8B-%D0%BF%D0%BE-%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B5-%D0%BC%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B3%D0%B0/%D1%81%D1%82%D0%B0%D1%82%D1%83%D1%81%20OpenVPN%20%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%B0.png)

А команда curl ident.me должна выводить IP OpenVPN сервера:

![curl_ident.me адрем сервера OpenVPN](https://github.com/IliaKoshkin/SkillBoxFinalWork/blob/%D0%A1%D0%BA%D1%80%D0%B8%D0%BD%D1%88%D0%BE%D1%82%D1%8B-%D0%BF%D0%BE-%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B5-%D0%BC%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%BD%D0%B3%D0%B0/ip%20%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B0.png)

Если проверка прошла не успешна, следует связаться с администратором.
